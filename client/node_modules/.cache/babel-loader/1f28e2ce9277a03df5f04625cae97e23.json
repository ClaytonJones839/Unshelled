{"ast":null,"code":"var _jsxFileName = \"/Users/clay/Desktop/Unshelled/client/src/components/tacos/TacoIndex.js\";\nimport React from 'react';\nimport Queries from '../../graphql/queries';\nimport { Link, withRouter } from \"react-router-dom\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport { Query } from 'react-apollo';\n\nconst TacoIndex = props => {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, React.createElement(Query, {\n    query: Queries.FETCH_PRODUCTS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, ({\n    loading,\n    error,\n    data\n  }) => {\n    if (loading) return \"Loading...\";\n    if (error) return \"Error! \".concat(error.message); // debugger\n\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, data.tacos.map(taco => React.createElement(\"li\", {\n      key: taco._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, taco.name)));\n  }), React.createElement(ApolloConsumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, client => React.createElement(Query, {\n    query: IS_LOGGED_IN,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, ({\n    data\n  }) => {\n    if (data.isLoggedIn) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/newProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"New\"), React.createElement(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          localStorage.removeItem(\"auth-token\");\n          client.writeData({\n            data: {\n              isLoggedIn: false\n            }\n          });\n          props.history.push(\"/\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Logout\"));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Register\"));\n    }\n  })));\n};\n\nexport default withRouter(TacoIndex);","map":{"version":3,"sources":["/Users/clay/Desktop/Unshelled/client/src/components/tacos/TacoIndex.js"],"names":["React","Queries","Link","withRouter","ApolloConsumer","Query","TacoIndex","props","FETCH_PRODUCTS","loading","error","data","message","tacos","map","taco","_id","name","client","IS_LOGGED_IN","isLoggedIn","e","preventDefault","localStorage","removeItem","writeData","history","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,cAAT,QAA+B,cAA/B;AACA,SAASC,KAAT,QAAsB,cAAtB;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AACnB,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEN,OAAO,CAACO,cAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAAC;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA;AAAlB,GAAD,KAA8B;AAC3B,QAAIF,OAAJ,EAAa,OAAO,YAAP;AACb,QAAIC,KAAJ,EAAW,wBAAiBA,KAAK,CAACE,OAAvB,EAFgB,CAG7B;;AACE,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKD,IAAI,CAACE,KAAL,CAAWC,GAAX,CAAeC,IAAI,IAChB;AAAI,MAAA,GAAG,EAAEA,IAAI,CAACC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBD,IAAI,CAACE,IAAzB,CADH,CADL,CADJ;AAOH,GAZL,CADA,EAgBA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKC,MAAM,IACH,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK,CAAC;AAAER,IAAAA;AAAF,GAAD,KAAc;AACX,QAAIA,IAAI,CAACS,UAAT,EAAqB;AACjB,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AACI,QAAA,OAAO,EAAEC,CAAC,IAAI;AACVA,UAAAA,CAAC,CAACC,cAAF;AACAC,UAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAN,UAAAA,MAAM,CAACO,SAAP,CAAiB;AAAEd,YAAAA,IAAI,EAAE;AAAES,cAAAA,UAAU,EAAE;AAAd;AAAR,WAAjB;AACAb,UAAAA,KAAK,CAACmB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,SANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CADJ;AAeH,KAhBD,MAgBO;AACH,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,CADJ;AAMH;AACJ,GA1BL,CAFR,CAhBA,CADJ;AAmDH,CApDL;;AAuDA,eAAexB,UAAU,CAACG,SAAD,CAAzB","sourcesContent":["import React from 'react';\nimport Queries from '../../graphql/queries';\nimport { Link, withRouter } from \"react-router-dom\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport { Query } from 'react-apollo';\n\nconst TacoIndex = props => {\n        return(\n            <div>\n            <Query query={Queries.FETCH_PRODUCTS}>\n                {({ loading, error, data }) => {\n                    if (loading) return \"Loading...\";\n                    if (error) return `Error! ${error.message}`;\n                  // debugger\n                    return (\n                        <ul>\n                            {data.tacos.map(taco => (\n                                <li key={taco._id}>{taco.name}</li>\n                            ))}\n                        </ul>\n                    );\n                }}\n            </Query>\n            {/* Just putting this here for testing purposes */}\n            <ApolloConsumer>\n                {client => (\n                    <Query query={IS_LOGGED_IN}>\n                        {({ data }) => {\n                            if (data.isLoggedIn) {\n                                return (\n                                    <div>\n                                        <Link to=\"/newProduct\">New</Link>\n                                        <button\n                                            onClick={e => {\n                                                e.preventDefault();\n                                                localStorage.removeItem(\"auth-token\");\n                                                client.writeData({ data: { isLoggedIn: false } });\n                                                props.history.push(\"/\");\n                                            }}\n                                        >\n                                            Logout\n                                    </button>\n                                    </div>\n                                );\n                            } else {\n                                return (\n                                    <div>\n                                        <Link to=\"/login\">Login</Link>\n                                        <Link to=\"/register\">Register</Link>\n                                    </div>\n                                );\n                            }\n                        }}\n                    </Query>\n                )}\n            </ApolloConsumer>\n            </div>\n        )\n    }\n\n\nexport default withRouter(TacoIndex);\n"]},"metadata":{},"sourceType":"module"}