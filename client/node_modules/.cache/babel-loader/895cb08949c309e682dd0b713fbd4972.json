{"ast":null,"code":"var _jsxFileName = \"/Users/clay/Desktop/Unshelled/client/src/components/tacos/TacoIndex.js\";\nimport React from 'react';\nimport { FETCH_TACOS } from '../../graphql/queries';\nimport { Query } from 'react-apollo';\n\nclass TacoIndex extends React.Component {\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    }, React.createElement(Query, {\n      query: FETCH_TACOS,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, ({\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return \"Loading...\";\n      if (error) return \"Error! \".concat(error.message); // debugger\n\n      return React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, data.tacos.map(taco => React.createElement(\"li\", {\n        key: taco._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, taco.name)));\n    }), React.createElement(ApolloConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, client => React.createElement(Query, {\n      query: IS_LOGGED_IN,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, ({\n      data\n    }) => {\n      if (data.isLoggedIn) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/newProduct\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, \"New\"), React.createElement(\"button\", {\n          onClick: e => {\n            e.preventDefault();\n            localStorage.removeItem(\"auth-token\");\n            client.writeData({\n              data: {\n                isLoggedIn: false\n              }\n            });\n            props.history.push(\"/\");\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, \"Logout\"));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Login\"), React.createElement(Link, {\n          to: \"/register\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Register\"));\n      }\n    })));\n  }\n\n}\n\nexport default TacoIndex;","map":{"version":3,"sources":["/Users/clay/Desktop/Unshelled/client/src/components/tacos/TacoIndex.js"],"names":["React","FETCH_TACOS","Query","TacoIndex","Component","render","loading","error","data","message","tacos","map","taco","_id","name","client","IS_LOGGED_IN","isLoggedIn","e","preventDefault","localStorage","removeItem","writeData","props","history","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,SAASC,KAAT,QAAsB,cAAtB;;AAEA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AAEpCC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEJ,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC;AAAEK,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,KAAD,KAA8B;AAC3B,UAAIF,OAAJ,EAAa,OAAO,YAAP;AACb,UAAIC,KAAJ,EAAW,wBAAiBA,KAAK,CAACE,OAAvB,EAFgB,CAG7B;;AACE,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKD,IAAI,CAACE,KAAL,CAAWC,GAAX,CAAeC,IAAI,IAChB;AAAI,QAAA,GAAG,EAAEA,IAAI,CAACC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoBD,IAAI,CAACE,IAAzB,CADH,CADL,CADJ;AAOH,KAZL,CADA,EAeA,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKC,MAAM,IACH,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,CAAC;AAAER,MAAAA;AAAF,KAAD,KAAc;AACX,UAAIA,IAAI,CAACS,UAAT,EAAqB;AACjB,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AACI,UAAA,OAAO,EAAEC,CAAC,IAAI;AACVA,YAAAA,CAAC,CAACC,cAAF;AACAC,YAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAN,YAAAA,MAAM,CAACO,SAAP,CAAiB;AAAEd,cAAAA,IAAI,EAAE;AAAES,gBAAAA,UAAU,EAAE;AAAd;AAAR,aAAjB;AACAM,YAAAA,KAAK,CAACC,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACH,WANL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,CADJ;AAeH,OAhBD,MAgBO;AACH,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEI,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,CADJ;AAMH;AACJ,KA1BL,CAFR,CAfA,CADJ;AAkDH;;AArDmC;;AAwDxC,eAAetB,SAAf","sourcesContent":["import React from 'react';\nimport { FETCH_TACOS } from '../../graphql/queries';\nimport { Query } from 'react-apollo';\n\nclass TacoIndex extends React.Component {\n\n    render() {\n        return(\n            <div>\n            <Query query={FETCH_TACOS}>\n                {({ loading, error, data }) => {\n                    if (loading) return \"Loading...\";\n                    if (error) return `Error! ${error.message}`;\n                  // debugger\n                    return (\n                        <ul>\n                            {data.tacos.map(taco => (\n                                <li key={taco._id}>{taco.name}</li>\n                            ))}\n                        </ul>\n                    );\n                }}\n            </Query>\n            <ApolloConsumer>\n                {client => (\n                    <Query query={IS_LOGGED_IN}>\n                        {({ data }) => {\n                            if (data.isLoggedIn) {\n                                return (\n                                    <div>\n                                        <Link to=\"/newProduct\">New</Link>\n                                        <button\n                                            onClick={e => {\n                                                e.preventDefault();\n                                                localStorage.removeItem(\"auth-token\");\n                                                client.writeData({ data: { isLoggedIn: false } });\n                                                props.history.push(\"/\");\n                                            }}\n                                        >\n                                            Logout\n                                    </button>\n                                    </div>\n                                );\n                            } else {\n                                return (\n                                    <div>\n                                        <Link to=\"/login\">Login</Link>\n                                        <Link to=\"/register\">Register</Link>\n                                    </div>\n                                );\n                            }\n                        }}\n                    </Query>\n                )}\n            </ApolloConsumer>\n            </div>\n        )\n    }\n}\n\nexport default TacoIndex;"]},"metadata":{},"sourceType":"module"}