{"ast":null,"code":"var _jsxFileName = \"/Users/clay/Desktop/Unshelled/client/src/components/restaurants/RestaurantIndex.js\";\nimport React from \"react\";\nimport Queries from \"../../graphql/queries\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport TopTacos from \"./TopTacos\";\nconst FETCH_RESTAURANTS = Queries.FETCH_RESTAURANTS;\n\nclass RestaurantIndex extends React.Component {\n  render() {\n    return React.createElement(Query, {\n      query: FETCH_RESTAURANTS,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11\n      },\n      __self: this\n    }, ({\n      loading,\n      error,\n      data\n    }) => {\n      if (loading) return \"Loading...\";\n      if (error) return \"Error! \".concat(error.message);\n      return React.createElement(\"div\", {\n        className: \"rest-index-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"rest-index-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"rest-index-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, data.restaurants.map((restaurant, i) => {\n        // debugger\n        let reviewArray = [];\n        let reviewSum;\n        let reviewRating;\n\n        if (restaurant.reviews) {\n          restaurant.reviews.forEach(review => {\n            // debugger\n            reviewArray.push(review.rating);\n          });\n          reviewSum = reviewArray.reduce((a, b) => a + b, 0);\n          reviewRating = reviewSum / reviewArray.length;\n        } else {\n          reviewRating = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          });\n        }\n\n        let stars;\n\n        if (reviewRating > 4.75) {\n          // 5\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 4.25) {\n          //4.5\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 55\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 56\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star-half-alt\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 3.75) {\n          // 4\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 3.25) {\n          //3.5\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star-half-alt\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 2.75) {\n          // 3\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 87\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 88\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 92\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 2.25) {\n          //2.5\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star-half-alt\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 103\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 1.75) {\n          // 2\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 1.25) {\n          // 1.5\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"fas fa-star-half-alt\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 0.75) {\n          // 1\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 133\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136\n            },\n            __self: this\n          }));\n        } else if (reviewRating > 0) {\n          // 0.5\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"fas fa-star-half-alt\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 143\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 144\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 146\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 147\n            },\n            __self: this\n          }));\n        } else {\n          // 0\n          stars = React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          }, React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }), React.createElement(\"i\", {\n            class: \"far fa-star\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            className: \"star-rev\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159\n            },\n            __self: this\n          }, \"Be the first to review!\"));\n        }\n\n        let tacos = restaurant.tacos.map(taco => React.createElement(Link, {\n          className: \"rest-taco-link\",\n          to: \"/taco/\".concat(taco._id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }, taco.name));\n        return React.createElement(\"div\", {\n          className: \"rest-index-item\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"rest-item-top2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          className: \"rest-index-image\",\n          src: restaurant.photo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"rest-index-details\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/restaurant/\".concat(restaurant._id),\n          className: \"rest-item-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, restaurant.name), stars, React.createElement(\"div\", {\n          className: \"rest-item-loc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, restaurant.location), React.createElement(\"div\", {\n          className: \"rest-item-desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, restaurant.description))), React.createElement(\"div\", {\n          className: \"rest-item-bottom2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"rest-item-tacos\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, \"Featured Tacos: \"), React.createElement(\"ul\", {\n          className: \"rest-item-taco-list\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, tacos)));\n      }))), React.createElement(\"div\", {\n        className: \"rest-index-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(TopTacos, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })));\n    });\n  }\n\n}\n\nexport default RestaurantIndex;","map":{"version":3,"sources":["/Users/clay/Desktop/Unshelled/client/src/components/restaurants/RestaurantIndex.js"],"names":["React","Queries","withRouter","Link","Query","TopTacos","FETCH_RESTAURANTS","RestaurantIndex","Component","render","loading","error","data","message","restaurants","map","restaurant","i","reviewArray","reviewSum","reviewRating","reviews","forEach","review","push","rating","reduce","a","b","length","stars","tacos","taco","_id","name","photo","location","description"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AACA,SAASC,KAAT,QAAsB,cAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;MACQC,iB,GAAsBL,O,CAAtBK,iB;;AAER,MAAMC,eAAN,SAA8BP,KAAK,CAACQ,SAApC,CAA8C;AAC5CC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAEH,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,CAAC;AAAEI,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBC,MAAAA;AAAlB,KAAD,KAA8B;AAC7B,UAAIF,OAAJ,EAAa,OAAO,YAAP;AACb,UAAIC,KAAJ,EAAW,wBAAiBA,KAAK,CAACE,OAAvB;AAGX,aACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGD,IAAI,CAACE,WAAL,CAAiBC,GAAjB,CAAqB,CAACC,UAAD,EAAaC,CAAb,KAAmB;AAC7C;AAGM,YAAIC,WAAW,GAAG,EAAlB;AACA,YAAIC,SAAJ;AACA,YAAIC,YAAJ;;AACA,YAAIJ,UAAU,CAACK,OAAf,EAAwB;AACtBL,UAAAA,UAAU,CAACK,OAAX,CAAmBC,OAAnB,CAA2BC,MAAM,IAAI;AACnC;AACAL,YAAAA,WAAW,CAACM,IAAZ,CAAiBD,MAAM,CAACE,MAAxB;AACD,WAHD;AAIAN,UAAAA,SAAS,GAAGD,WAAW,CAACQ,MAAZ,CAAmB,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAjC,EAAoC,CAApC,CAAZ;AACAR,UAAAA,YAAY,GAAGD,SAAS,GAAGD,WAAW,CAACW,MAAvC;AACD,SAPD,MAOO;AACLT,UAAAA,YAAY,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAf;AACD;;AAED,YAAIU,KAAJ;;AACA,YAAIV,YAAY,GAAG,IAAnB,EAAyB;AACvB;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXD,MAWO,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,sBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,sBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,sBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,sBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,IAAnB,EAAyB;AAC9B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA,IAAIV,YAAY,GAAG,CAAnB,EAAsB;AAC3B;AACAU,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,sBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,CADF;AASD,SAXM,MAWA;AACL;AACAA,UAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAGE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,EAIE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJF,EAKE;AAAG,YAAA,KAAK,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,EAME;AAAG,YAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCANF,CADF;AAUD;;AAWD,YAAIC,KAAK,GAAGf,UAAU,CAACe,KAAX,CAAiBhB,GAAjB,CAAqBiB,IAAI,IACnC,oBAAC,IAAD;AACE,UAAA,SAAS,EAAC,gBADZ;AAEE,UAAA,EAAE,kBAAWA,IAAI,CAACC,GAAhB,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGGD,IAAI,CAACE,IAHR,CADU,CAAZ;AAOF,eACE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,kBAAf;AACE,UAAA,GAAG,EAAElB,UAAU,CAACmB,KADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAGE;AAAK,UAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,EAAE,wBAAiBnB,UAAU,CAACiB,GAA5B,CAAR;AACE,UAAA,SAAS,EAAC,gBADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAC8BjB,UAAU,CAACkB,IADzC,CADJ,EAGCJ,KAHD,EAIA;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgCd,UAAU,CAACoB,QAA3C,CAJA,EAKA;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAiCpB,UAAU,CAACqB,WAA5C,CALA,CAHF,CADF,EAYE;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,EAEE;AAAI,UAAA,SAAS,EAAC,qBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGN,KADH,CAFF,CAZF,CADF;AAqBD,OApLE,CADH,CADF,CADA,EA0LA;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CA1LA,CADF;AAgMD,KAtMH,CADF;AA2MD;;AA7M2C;;AAgN9C,eAAexB,eAAf","sourcesContent":["import React from \"react\";\nimport Queries from \"../../graphql/queries\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport { Query } from \"react-apollo\";\nimport TopTacos from \"./TopTacos\"\nconst { FETCH_RESTAURANTS } = Queries;\n\nclass RestaurantIndex extends React.Component {\n  render() {\n    return (\n      <Query query={FETCH_RESTAURANTS}>\n        {({ loading, error, data }) => {\n          if (loading) return \"Loading...\";\n          if (error) return `Error! ${error.message}`;\n\n          \n          return (\n            <div className=\"rest-index-container\">\n            <div className=\"rest-index-right\">\n              <ul className=\"rest-index-list\">\n                {data.restaurants.map((restaurant, i) => {\n            // debugger\n\n\n                  let reviewArray = [];\n                  let reviewSum;\n                  let reviewRating;\n                  if (restaurant.reviews) {\n                    restaurant.reviews.forEach(review => {\n                      // debugger\n                      reviewArray.push(review.rating);\n                    });\n                    reviewSum = reviewArray.reduce((a, b) => a + b, 0);\n                    reviewRating = reviewSum / reviewArray.length;\n                  } else {\n                    reviewRating = <div></div>;\n                  }\n\n                  let stars;\n                  if (reviewRating > 4.75) {\n                    // 5\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 4.25) {\n                    //4.5\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star-half-alt\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 3.75) {\n                    // 4\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 3.25) {\n                    //3.5\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star-half-alt\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 2.75) {\n                    // 3\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 2.25) {\n                    //2.5\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star-half-alt\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 1.75) {\n                    // 2\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 1.25) {\n                    // 1.5\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"fas fa-star-half-alt\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 0.75) {\n                    // 1\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else if (reviewRating > 0) {\n                    // 0.5\n                    stars = (\n                      <div>\n                        <i class=\"fas fa-star-half-alt\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                      </div>\n                    );\n                  } else {\n                    // 0\n                    stars = (\n                      <div>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <i class=\"far fa-star\"></i>\n                        <p className=\"star-rev\">Be the first to review!</p>\n                      </div>\n                    );\n                  } \n\n\n\n\n\n\n\n\n\n\n                  let tacos = restaurant.tacos.map(taco => (\n                    <Link \n                      className=\"rest-taco-link\"\n                      to={`/taco/${taco._id}`}>\n                      {taco.name}\n                    </Link>\n                  ))\n                return (\n                  <div className=\"rest-index-item\">\n                    <div className=\"rest-item-top2\">\n                      <img className=\"rest-index-image\"\n                        src={restaurant.photo}></img>\n                      <div className=\"rest-index-details\">\n                          <Link to={`/restaurant/${restaurant._id}`}\n                            className=\"rest-item-name\">{restaurant.name}</Link>\n                      {stars}\n                      <div className=\"rest-item-loc\">{restaurant.location}</div>\n                      <div className=\"rest-item-desc\">{restaurant.description}</div>\n                      </div>\n                    </div>\n                    <div className=\"rest-item-bottom2\">\n                      <div className=\"rest-item-tacos\">Featured Tacos: </div>\n                      <ul className=\"rest-item-taco-list\">\n                        {tacos}\n                      </ul>\n                    </div>\n                  </div>\n                );\n              })}\n            </ul>\n            </div>\n            <div className=\"rest-index-left\">\n              <TopTacos />\n            </div>\n            </div>\n          );\n        }}\n\n      </Query>\n    );\n  }\n}\n\nexport default RestaurantIndex;\n"]},"metadata":{},"sourceType":"module"}